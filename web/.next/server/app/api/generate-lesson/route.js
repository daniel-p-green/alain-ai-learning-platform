"use strict";(()=>{var e={};e.id=921,e.ids=[921],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6005:e=>{e.exports=require("node:crypto")},7561:e=>{e.exports=require("node:fs")},9411:e=>{e.exports=require("node:path")},4679:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c});var s={};r.r(s),r.d(s,{POST:()=>p});var n=r(9303),a=r(8716),o=r(670),i=r(4910);async function p(e){let{userId:t,getToken:r}=await (0,i.I)();if(!t)return new Response("Unauthorized",{status:401});let s=await e.json().catch(()=>null);if(!s?.hfUrl)return new Response("hfUrl required",{status:400});let n=process.env.NEXT_PUBLIC_BACKEND_BASE||"http://localhost:4000",a=s.teacherModel||"GPT-OSS-20B",o=s.difficulty||"beginner",p=!!s.includeAssessment,u=await fetch(`${n}/lessons/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hfUrl:s.hfUrl,difficulty:o,teacherModel:a,includeAssessment:p})}),l=await u.json();if(!l.success)return Response.json(l,{status:200});let c=l.lesson,d=await r(),h=await fetch(`${n}/tutorials/import`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify(c)});if(!h.ok){let e=await h.text();return new Response(`Import failed: ${e}`,{status:500})}let x=await h.json();return Response.json({success:!0,tutorialId:x.tutorialId})}let u=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/generate-lesson/route",pathname:"/api/generate-lesson",filename:"route",bundlePath:"app/api/generate-lesson/route"},resolvedPagePath:"/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/app/api/generate-lesson/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:c,serverHooks:d}=u,h="/api/generate-lesson/route";function x(){return(0,o.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:c})}},9303:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[13],()=>r(4679));module.exports=s})();