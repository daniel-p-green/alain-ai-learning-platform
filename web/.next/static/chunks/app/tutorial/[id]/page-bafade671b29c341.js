(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{1695:function(e,n,a){Promise.resolve().then(a.bind(a,6684))},6684:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return r}});var s=a(7437),t=a(2265);a(7960);var o=a(257);async function l(e){let n=o.env.NEXT_PUBLIC_BACKEND_BASE||"http://localhost:4000";return(await fetch("".concat(n,"/tutorial/").concat(e),{cache:"no-store"})).json()}function r(e){let{params:n}=e,a=n.id,[o,r]=(0,t.useState)(null),[i,d]=(0,t.useState)(0),[c,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[h,g]=(0,t.useState)({status:"idle"}),b=(0,t.useRef)(null);(0,t.useEffect)(()=>{l(a).then(e=>{var n,a;r(e),u((null==e?void 0:null===(a=e.steps)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.code_template)||"")})},[a]),(0,t.useEffect)(()=>()=>{b.current&&b.current.abort()},[]);let f=()=>h.startTime?Math.floor((Date.now()-h.startTime)/1e3):0,w=e=>e<60?"".concat(e,"s"):"".concat(Math.floor(e/60),"m ").concat(e%60,"s");async function x(){if(o){b.current&&b.current.abort(),b.current=new AbortController,p(""),g({status:"running",startTime:Date.now(),tokenCount:0});try{var e,n,a,s,t,l,r,i,d,u;let m=await fetch("/api/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:o.provider,model:o.model,messages:[{role:"user",content:c}],stream:!0}),signal:b.current.signal});if(!m.ok){let n=await m.json().catch(()=>({message:"Request failed"}));throw Error((null===(e=n.error)||void 0===e?void 0:e.message)||"HTTP ".concat(m.status))}if(!m.body)throw Error("No response stream");let h=m.body.getReader(),f=new TextDecoder,w="",x=0;for(;;){let e;let{done:o,value:c}=await h.read();if(o)break;for(w+=f.decode(c,{stream:!0});-1!==(e=w.indexOf("\n\n"));){let o=w.slice(0,e);w=w.slice(e+2);let c=o.trim();if(c&&c.startsWith("data:")){let e=c.slice(5).trim();if("[DONE]"===e){g(e=>({...e,status:"completed",tokenCount:x}));break}try{let o=JSON.parse(e);if("error"===o.event||o.error)throw Error((null===(i=o.error)||void 0===i?void 0:i.message)||o.message||"Stream error");let c=null!==(u=null!==(d=null==o?void 0:null===(s=o.choices)||void 0===s?void 0:null===(a=s[0])||void 0===a?void 0:null===(n=a.delta)||void 0===n?void 0:n.content)&&void 0!==d?d:null==o?void 0:null===(r=o.choices)||void 0===r?void 0:null===(l=r[0])||void 0===l?void 0:null===(t=l.message)||void 0===t?void 0:t.content)&&void 0!==u?u:"";c&&(p(e=>e+c),x+=c.length,g(e=>({...e,tokenCount:x})))}catch(n){if(e.includes("error")||e.includes("Error"))throw Error(e)}}}}}catch(e){if("AbortError"===e.name)g(e=>({...e,status:"cancelled"})),p("Execution cancelled");else{let n={code:e.message.includes("401")?"authentication_failed":e.message.includes("429")?"rate_limited":e.message.includes("404")?"model_not_found":"execution_error",message:e.message||"Execution failed",details:e};g(e=>({...e,status:"error",error:n})),p("Error: ".concat(n.message))}}finally{b.current=null}}}if(!o)return(0,s.jsx)("div",{className:"p-6",children:"Loading..."});let S=o.steps[i];return(0,s.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-6",children:[(0,s.jsx)("a",{className:"text-blue-400 hover:underline",href:"/tutorials",children:"← Back"}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:o.title}),(0,s.jsx)("p",{className:"text-gray-400",children:o.description}),o.steps.length>1&&(0,s.jsx)("div",{className:"flex gap-2 mt-2",children:o.steps.map((e,n)=>(0,s.jsxs)("button",{className:"px-3 py-1 rounded ".concat(n===i?"bg-blue-600 text-white":"bg-gray-800"),onClick:()=>{d(n),u(o.steps[n].code_template||""),p("")},children:["Step ",n+1]},e.id))}),"error"===h.status&&h.error&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-5 h-5 text-red-400",children:"⚠️"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"font-semibold text-red-400",children:["rate_limited"===h.error.code&&"Rate Limited","authentication_failed"===h.error.code&&"Authentication Failed","model_not_found"===h.error.code&&"Model Not Found","execution_error"===h.error.code&&"Execution Error"]}),(0,s.jsx)("p",{className:"text-sm text-red-300",children:h.error.message}),"rate_limited"===h.error.code&&(0,s.jsx)("p",{className:"text-xs text-red-400 mt-1",children:"Try again in a few moments"})]})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:S.title}),(0,s.jsx)("div",{className:"whitespace-pre-wrap text-gray-200",children:S.content}),"idle"!==h.status&&(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Status:"}),(0,s.jsxs)("span",{className:"font-medium ".concat("running"===h.status?"text-blue-400":"completed"===h.status?"text-green-400":"error"===h.status?"text-red-400":"cancelled"===h.status?"text-yellow-400":"text-gray-400"),children:["running"===h.status&&"Running...","completed"===h.status&&"Completed","error"===h.status&&"Error","cancelled"===h.status&&"Cancelled"]})]}),"running"===h.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Time:"}),(0,s.jsx)("span",{className:"text-blue-400 font-mono",children:w(f())})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-300",children:"Tokens:"}),(0,s.jsxs)("span",{className:"text-blue-400 font-mono",children:["~",h.tokenCount||0]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-500 h-2 rounded-full animate-pulse",style:{width:"60%"}})})]})]}),(0,s.jsx)("textarea",{className:"w-full min-h-32 p-3 bg-gray-900 rounded border border-gray-800 focus:border-blue-500 focus:outline-none",value:c,onChange:e=>u(e.target.value),placeholder:"Enter your prompt here..."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:x,disabled:"running"===h.status||!c.trim(),children:"running"===h.status?"Running...":"Run step"}),"running"===h.status&&(0,s.jsx)("button",{className:"px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white transition-colors",onClick:function(){b.current&&b.current.abort()},children:"Cancel"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Output"}),"completed"===h.status&&(0,s.jsx)("span",{className:"text-sm text-green-400 font-medium",children:"✓ Completed"}),"cancelled"===h.status&&(0,s.jsx)("span",{className:"text-sm text-yellow-400 font-medium",children:"⏹ Cancelled"})]}),(0,s.jsx)("pre",{className:"min-h-64 p-3 bg-gray-900 rounded border whitespace-pre-wrap ".concat("error"===h.status?"border-red-700":"completed"===h.status?"border-green-700":"running"===h.status?"border-blue-700":"border-gray-800"),children:m||("idle"===h.status?'Click "Run step" to execute your prompt...':"")}),"completed"===h.status&&h.tokenCount&&(0,s.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3 space-y-2",children:[(0,s.jsx)("h4",{className:"font-medium text-gray-300",children:"Execution Summary"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Duration:"}),(0,s.jsx)("div",{className:"text-white font-mono",children:w(f())})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Est. Tokens:"}),(0,s.jsxs)("div",{className:"text-white font-mono",children:["~",h.tokenCount]})]})]})]})]})]})]})}},257:function(e,n,a){"use strict";var s,t;e.exports=(null==(s=a.g.process)?void 0:s.env)&&"object"==typeof(null==(t=a.g.process)?void 0:t.env)?a.g.process:a(4227)},4227:function(e){!function(){var n={229:function(e){var n,a,s,t=e.exports={};function o(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(a){try{return n.call(null,e,0)}catch(a){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{a="function"==typeof clearTimeout?clearTimeout:l}catch(e){a=l}}();var i=[],d=!1,c=-1;function u(){d&&s&&(d=!1,s.length?i=s.concat(i):c=-1,i.length&&m())}function m(){if(!d){var e=r(u);d=!0;for(var n=i.length;n;){for(s=i,i=[];++c<n;)s&&s[c].run();c=-1,n=i.length}s=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(n){try{return a.call(null,e)}catch(n){return a.call(this,e)}}}(e)}}function p(e,n){this.fun=e,this.array=n}function h(){}t.nextTick=function(e){var n=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)n[a-1]=arguments[a];i.push(new p(e,n)),1!==i.length||d||r(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw Error("process.chdir is not supported")},t.umask=function(){return 0}}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var o=a[e]={exports:{}},l=!0;try{n[e](o,o.exports,s),l=!1}finally{l&&delete a[e]}return o.exports}s.ab="//";var t=s(229);e.exports=t}()},7960:function(){throw Error("Module build failed (from ./node_modules/next/dist/compiled/mini-css-extract-plugin/loader.js):\nHookWebpackError: Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\n    at We (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/node_modules/tailwindcss/dist/lib.js:35:2121)\n    at LazyResult.runOnRoot (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:329:16)\n    at LazyResult.runAsync (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:258:26)\n    at LazyResult.async (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:160:30)\n    at LazyResult.then (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:404:17)\n    at tryRunOrWebpackError (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:312989)\n    at __webpack_require_module__ (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:131165)\n    at __nested_webpack_require_153728__ (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:130607)\n    at /Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:131454\n    at symbolIterator (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n    at done (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/neo-async/async.js:1:14824)\n    at Hook.eval [as callAsync] (eval at create (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:13:28858), <anonymous>:15:1)\n    at Hook.CALL_ASYNC_DELEGATE [as _callAsync] (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:13:26012)\n    at /Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:130328\n    at symbolIterator (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/neo-async/async.js:1:14402)\n-- inner error --\nError: Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\n    at We (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/node_modules/tailwindcss/dist/lib.js:35:2121)\n    at LazyResult.runOnRoot (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:329:16)\n    at LazyResult.runAsync (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:258:26)\n    at LazyResult.async (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:160:30)\n    at LazyResult.then (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:404:17)\n    at Object.<anonymous> (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[12].use[2]!/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[12].use[3]!/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/app/globals.css:1:7)\n    at /Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:922493\n    at Hook.eval [as call] (eval at create (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:13:28636), <anonymous>:7:1)\n    at Hook.CALL_DELEGATE [as _call] (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:13:25906)\n    at /Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:131198\n    at tryRunOrWebpackError (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:312943)\n    at __webpack_require_module__ (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:131165)\n    at __nested_webpack_require_153728__ (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:130607)\n    at /Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/webpack/bundle5.js:28:131454\n    at symbolIterator (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/compiled/neo-async/async.js:1:14444)\n\nGenerated code for /Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[14].oneOf[12].use[2]!/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[14].oneOf[12].use[3]!/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/app/globals.css\n1 | throw new Error(\"Module build failed (from ./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js):\\nError: It looks like you're trying to use `tailwindcss` directly as a PostCSS plugin. The PostCSS plugin has moved to a separate package, so to continue using Tailwind CSS with PostCSS you'll need to install `@tailwindcss/postcss` and update your PostCSS configuration.\\n    at We (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/node_modules/tailwindcss/dist/lib.js:35:2121)\\n    at LazyResult.runOnRoot (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:329:16)\\n    at LazyResult.runAsync (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:258:26)\\n    at LazyResult.async (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:160:30)\\n    at LazyResult.then (/Users/danielgreen/Downloads/OSS hackathon/alain-ai-learning-platform/web/node_modules/postcss/lib/lazy-result.js:404:17)\");")}},function(e){e.O(0,[971,117,744],function(){return e(e.s=1695)}),_N_E=e.O()}]);